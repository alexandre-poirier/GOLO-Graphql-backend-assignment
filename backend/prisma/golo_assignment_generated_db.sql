-- --------------------------------------------------------
-- Hôte :                        35.203.117.45
-- Version du serveur:           5.7.25-google-log - (Google)
-- SE du serveur:                Linux
-- HeidiSQL Version:             11.0.0.5919
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;


-- Listage de la structure de la base pour golo_assignment
DROP DATABASE IF EXISTS `golo_assignment`;
CREATE DATABASE IF NOT EXISTS `golo_assignment` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `golo_assignment`;

-- Listage de la structure de la table golo_assignment. ActiveSession
DROP TABLE IF EXISTS `ActiveSession`;
CREATE TABLE IF NOT EXISTS `ActiveSession` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `isActive` tinyint(1) NOT NULL,
  `isAdmin` tinyint(1) NOT NULL,
  `privateKey` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `ActiveSession.privateKey` (`privateKey`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Listage des données de la table golo_assignment.ActiveSession : ~0 rows (environ)
DELETE FROM `ActiveSession`;
/*!40000 ALTER TABLE `ActiveSession` DISABLE KEYS */;
/*!40000 ALTER TABLE `ActiveSession` ENABLE KEYS */;

-- Listage de la structure de la table golo_assignment. Building
DROP TABLE IF EXISTS `Building`;
CREATE TABLE IF NOT EXISTS `Building` (
  `address` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `id` int(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Listage des données de la table golo_assignment.Building : ~0 rows (environ)
DELETE FROM `Building`;
/*!40000 ALTER TABLE `Building` DISABLE KEYS */;
/*!40000 ALTER TABLE `Building` ENABLE KEYS */;

-- Listage de la structure de la table golo_assignment. PackageUnit
DROP TABLE IF EXISTS `PackageUnit`;
CREATE TABLE IF NOT EXISTS `PackageUnit` (
  `buildingId` int(11) DEFAULT NULL,
  `code` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `packageIsDelivered` tinyint(1) NOT NULL,
  `residentId` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `buildingId` (`buildingId`),
  KEY `residentId` (`residentId`),
  CONSTRAINT `PackageUnit_ibfk_1` FOREIGN KEY (`buildingId`) REFERENCES `Building` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `PackageUnit_ibfk_2` FOREIGN KEY (`residentId`) REFERENCES `Resident` (`id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Listage des données de la table golo_assignment.PackageUnit : ~0 rows (environ)
DELETE FROM `PackageUnit`;
/*!40000 ALTER TABLE `PackageUnit` DISABLE KEYS */;
/*!40000 ALTER TABLE `PackageUnit` ENABLE KEYS */;

-- Listage de la structure de la table golo_assignment. Resident
DROP TABLE IF EXISTS `Resident`;
CREATE TABLE IF NOT EXISTS `Resident` (
  `address` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `buildingId` int(11) DEFAULT NULL,
  `email` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `emailNotificationSent` tinyint(1) NOT NULL,
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `isEmailNotification` tinyint(1) NOT NULL,
  `isSmsNotification` tinyint(1) NOT NULL,
  `name` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `phoneNumber` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `smsNotificationSent` tinyint(1) NOT NULL,
  `unitNumber` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `Resident.email` (`email`),
  KEY `buildingId` (`buildingId`),
  CONSTRAINT `Resident_ibfk_1` FOREIGN KEY (`buildingId`) REFERENCES `Building` (`id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Listage des données de la table golo_assignment.Resident : ~0 rows (environ)
DELETE FROM `Resident`;
/*!40000 ALTER TABLE `Resident` DISABLE KEYS */;
/*!40000 ALTER TABLE `Resident` ENABLE KEYS */;

-- Listage de la structure de la table golo_assignment. SecurityAdmin
DROP TABLE IF EXISTS `SecurityAdmin`;
CREATE TABLE IF NOT EXISTS `SecurityAdmin` (
  `email` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `password` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `SecurityAdmin.email` (`email`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Listage des données de la table golo_assignment.SecurityAdmin : ~1 rows (environ)
DELETE FROM `SecurityAdmin`;
/*!40000 ALTER TABLE `SecurityAdmin` DISABLE KEYS */;
INSERT INTO `SecurityAdmin` (`email`, `id`, `password`) VALUES
	('test', 1, 'd404559f602eab6fd602ac7680dacbfaadd13630335e951f097af3900e9de176b6db28512f2e000b9d04fba5133e8b1c6e8df59db3a8ab9d60be4b97cc9e81db');
/*!40000 ALTER TABLE `SecurityAdmin` ENABLE KEYS */;

-- Listage de la structure de la table golo_assignment. _Migration
DROP TABLE IF EXISTS `_Migration`;
CREATE TABLE IF NOT EXISTS `_Migration` (
  `revision` int(11) NOT NULL AUTO_INCREMENT,
  `name` text NOT NULL,
  `datamodel` longtext NOT NULL,
  `status` text NOT NULL,
  `applied` int(11) NOT NULL,
  `rolled_back` int(11) NOT NULL,
  `datamodel_steps` longtext NOT NULL,
  `database_migration` longtext NOT NULL,
  `errors` longtext NOT NULL,
  `started_at` datetime(3) NOT NULL,
  `finished_at` datetime(3) DEFAULT NULL,
  PRIMARY KEY (`revision`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;

-- Listage des données de la table golo_assignment._Migration : ~1 rows (environ)
DELETE FROM `_Migration`;
/*!40000 ALTER TABLE `_Migration` DISABLE KEYS */;
INSERT INTO `_Migration` (`revision`, `name`, `datamodel`, `status`, `applied`, `rolled_back`, `datamodel_steps`, `database_migration`, `errors`, `started_at`, `finished_at`) VALUES
	(1, '20200720103135-2020-07-20', 'datasource mysql {\n  provider = "mysql"\n  url      = "***"\n}\n\nmodel Resident {\n  address               String\n  buildingId            Int?\n  email                 String        @unique\n  emailNotificationSent Boolean\n  id                    Int           @default(autoincrement()) @id\n  isEmailNotification   Boolean\n  isSmsNotification     Boolean\n  name                  String\n  password              String\n  phoneNumber           String\n  smsNotificationSent   Boolean\n  unitNumber            String\n  Building              Building?     @relation(fields: [buildingId], references: [id])\n  PackageUnit           PackageUnit[]\n}\n\nmodel ActiveSession {\n  id         Int     @default(autoincrement()) @id\n  isActive   Boolean\n  isAdmin    Boolean\n  privateKey String  @unique\n}\n\nmodel PackageUnit {\n  buildingId         Int?\n  code               String\n  id                 Int       @default(autoincrement()) @id\n  packageIsDelivered Boolean\n  residentId         Int?\n  Building           Building? @relation(fields: [buildingId], references: [id])\n  Resident           Resident? @relation(fields: [residentId], references: [id])\n}\n\nmodel Building {\n  address     String\n  id          Int           @default(autoincrement()) @id\n  Resident    Resident[]\n  PackageUnit PackageUnit[]\n}\n\nmodel SecurityAdmin {\n  email    String @unique\n  id       Int    @default(autoincrement()) @id\n  password String\n}\n', 'MigrationSuccess', 18, 0, '[{"tag":"CreateSource","source":"mysql"},{"tag":"CreateArgument","location":{"tag":"Source","source":"mysql"},"argument":"provider","value":"\\"mysql\\""},{"tag":"CreateArgument","location":{"tag":"Source","source":"mysql"},"argument":"url","value":"\\"***\\""},{"tag":"CreateModel","model":"Resident"},{"tag":"CreateField","model":"Resident","field":"address","type":"String","arity":"Required"},{"tag":"CreateField","model":"Resident","field":"buildingId","type":"Int","arity":"Optional"},{"tag":"CreateField","model":"Resident","field":"email","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Resident","field":"email"},"directive":"unique"}},{"tag":"CreateField","model":"Resident","field":"emailNotificationSent","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Resident","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Resident","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Resident","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Resident","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"Resident","field":"isEmailNotification","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Resident","field":"isSmsNotification","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Resident","field":"name","type":"String","arity":"Required"},{"tag":"CreateField","model":"Resident","field":"password","type":"String","arity":"Required"},{"tag":"CreateField","model":"Resident","field":"phoneNumber","type":"String","arity":"Required"},{"tag":"CreateField","model":"Resident","field":"smsNotificationSent","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Resident","field":"unitNumber","type":"String","arity":"Required"},{"tag":"CreateField","model":"Resident","field":"Building","type":"Building","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Resident","field":"Building"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Resident","field":"Building"},"directive":"relation"},"argument":"fields","value":"[buildingId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Resident","field":"Building"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Resident","field":"PackageUnit","type":"PackageUnit","arity":"List"},{"tag":"CreateModel","model":"ActiveSession"},{"tag":"CreateField","model":"ActiveSession","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"ActiveSession","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"ActiveSession","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"ActiveSession","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"ActiveSession","field":"isActive","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"ActiveSession","field":"isAdmin","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"ActiveSession","field":"privateKey","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"ActiveSession","field":"privateKey"},"directive":"unique"}},{"tag":"CreateModel","model":"PackageUnit"},{"tag":"CreateField","model":"PackageUnit","field":"buildingId","type":"Int","arity":"Optional"},{"tag":"CreateField","model":"PackageUnit","field":"code","type":"String","arity":"Required"},{"tag":"CreateField","model":"PackageUnit","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PackageUnit","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PackageUnit","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PackageUnit","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"PackageUnit","field":"packageIsDelivered","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"PackageUnit","field":"residentId","type":"Int","arity":"Optional"},{"tag":"CreateField","model":"PackageUnit","field":"Building","type":"Building","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PackageUnit","field":"Building"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PackageUnit","field":"Building"},"directive":"relation"},"argument":"fields","value":"[buildingId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PackageUnit","field":"Building"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"PackageUnit","field":"Resident","type":"Resident","arity":"Optional"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"PackageUnit","field":"Resident"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PackageUnit","field":"Resident"},"directive":"relation"},"argument":"fields","value":"[residentId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"PackageUnit","field":"Resident"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateModel","model":"Building"},{"tag":"CreateField","model":"Building","field":"address","type":"String","arity":"Required"},{"tag":"CreateField","model":"Building","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Building","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Building","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Building","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"Building","field":"Resident","type":"Resident","arity":"List"},{"tag":"CreateField","model":"Building","field":"PackageUnit","type":"PackageUnit","arity":"List"},{"tag":"CreateModel","model":"SecurityAdmin"},{"tag":"CreateField","model":"SecurityAdmin","field":"email","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"SecurityAdmin","field":"email"},"directive":"unique"}},{"tag":"CreateField","model":"SecurityAdmin","field":"id","type":"Int","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"SecurityAdmin","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"SecurityAdmin","field":"id"},"directive":"default"},"argument":"","value":"autoincrement()"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"SecurityAdmin","field":"id"},"directive":"id"}},{"tag":"CreateField","model":"SecurityAdmin","field":"password","type":"String","arity":"Required"}]', '{"before":{"tables":[{"name":"activesession","columns":[{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isActive","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"privateKey","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"ActiveSession.privateKey","columns":["privateKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"building","columns":[{"name":"address","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"packageunit","columns":[{"name":"buildingId","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"code","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"packageIsDelivered","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"residentId","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"buildingId","columns":["buildingId"],"tpe":"normal"},{"name":"residentId","columns":["residentId"],"tpe":"normal"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":"packageunit_ibfk_1","columns":["buildingId"],"referencedTable":"building","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"packageunit_ibfk_2","columns":["residentId"],"referencedTable":"resident","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"resident","columns":[{"name":"address","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"buildingId","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailNotificationSent","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isEmailNotification","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isSmsNotification","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"phoneNumber","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"smsNotificationSent","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"unitNumber","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"Resident.email","columns":["email"],"tpe":"unique"},{"name":"buildingId","columns":["buildingId"],"tpe":"normal"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":"resident_ibfk_1","columns":["buildingId"],"referencedTable":"building","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"securityadmin","columns":[{"name":"email","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"password","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"SecurityAdmin.email","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"_Migration","columns":[{"name":"applied","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"dataType":"longtext","fullDataType":"longtext","characterMaximumLength":4294967295,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"dataType":"longtext","fullDataType":"longtext","characterMaximumLength":4294967295,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"dataType":"longtext","fullDataType":"longtext","characterMaximumLength":4294967295,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"dataType":"longtext","fullDataType":"longtext","characterMaximumLength":4294967295,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"dataType":"datetime","fullDataType":"datetime(3)","characterMaximumLength":null,"family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":65535,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"revision","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"rolled_back","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"dataType":"datetime","fullDataType":"datetime(3)","characterMaximumLength":null,"family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"dataType":"text","fullDataType":"text","characterMaximumLength":65535,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":null,"constraintName":null},"foreignKeys":[]}],"enums":[],"sequences":[]},"after":{"tables":[{"name":"Resident","columns":[{"name":"address","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"buildingId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailNotificationSent","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isEmailNotification","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isSmsNotification","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"phoneNumber","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"smsNotificationSent","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"unitNumber","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"Resident.email","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"ActiveSession","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isActive","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"privateKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"ActiveSession.privateKey","columns":["privateKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"PackageUnit","columns":[{"name":"buildingId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"packageIsDelivered","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"residentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["residentId"],"referencedTable":"Resident","referencedColumns":["id"],"onDeleteAction":"setNull"}]},{"name":"Building","columns":[{"name":"address","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]},{"name":"SecurityAdmin","columns":[{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"SecurityAdmin.email","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}],"enums":[],"sequences":[]},"original_steps":[{"DropForeignKey":{"table":"packageunit","constraint_name":"packageunit_ibfk_1"}},{"DropForeignKey":{"table":"packageunit","constraint_name":"packageunit_ibfk_2"}},{"DropForeignKey":{"table":"resident","constraint_name":"resident_ibfk_1"}},{"CreateTable":{"table":{"name":"Resident","columns":[{"name":"address","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"buildingId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailNotificationSent","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isEmailNotification","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isSmsNotification","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"phoneNumber","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"smsNotificationSent","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"unitNumber","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"Resident.email","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"CreateTable":{"table":{"name":"ActiveSession","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isActive","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"privateKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"ActiveSession.privateKey","columns":["privateKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"PackageUnit","columns":[{"name":"buildingId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"packageIsDelivered","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"residentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["residentId"],"referencedTable":"Resident","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"CreateTable":{"table":{"name":"Building","columns":[{"name":"address","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"SecurityAdmin","columns":[{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"SecurityAdmin.email","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateIndex":{"table":"Resident","index":{"name":"Resident.email","columns":["email"],"tpe":"unique"}}},{"CreateIndex":{"table":"ActiveSession","index":{"name":"ActiveSession.privateKey","columns":["privateKey"],"tpe":"unique"}}},{"CreateIndex":{"table":"SecurityAdmin","index":{"name":"SecurityAdmin.email","columns":["email"],"tpe":"unique"}}},{"AddForeignKey":{"table":"Resident","foreign_key":{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"AddForeignKey":{"table":"PackageUnit","foreign_key":{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"AddForeignKey":{"table":"PackageUnit","foreign_key":{"constraintName":null,"columns":["residentId"],"referencedTable":"Resident","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"DropTable":{"name":"activesession"}},{"DropTable":{"name":"building"}},{"DropTable":{"name":"packageunit"}},{"DropTable":{"name":"resident"}},{"DropTable":{"name":"securityadmin"}}],"corrected_steps":[{"DropForeignKey":{"table":"packageunit","constraint_name":"packageunit_ibfk_1"}},{"DropForeignKey":{"table":"packageunit","constraint_name":"packageunit_ibfk_2"}},{"DropForeignKey":{"table":"resident","constraint_name":"resident_ibfk_1"}},{"CreateTable":{"table":{"name":"Resident","columns":[{"name":"address","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"buildingId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailNotificationSent","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isEmailNotification","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isSmsNotification","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"phoneNumber","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"smsNotificationSent","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"unitNumber","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"Resident.email","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"CreateTable":{"table":{"name":"ActiveSession","columns":[{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isActive","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"privateKey","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"ActiveSession.privateKey","columns":["privateKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"PackageUnit","columns":[{"name":"buildingId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"code","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"packageIsDelivered","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"residentId","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":null,"columns":["residentId"],"referencedTable":"Resident","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"CreateTable":{"table":{"name":"Building","columns":[{"name":"address","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"SecurityAdmin","columns":[{"name":"email","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"password","tpe":{"dataType":"","fullDataType":"","characterMaximumLength":null,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"SecurityAdmin.email","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateIndex":{"table":"Resident","index":{"name":"Resident.email","columns":["email"],"tpe":"unique"}}},{"CreateIndex":{"table":"ActiveSession","index":{"name":"ActiveSession.privateKey","columns":["privateKey"],"tpe":"unique"}}},{"CreateIndex":{"table":"SecurityAdmin","index":{"name":"SecurityAdmin.email","columns":["email"],"tpe":"unique"}}},{"AddForeignKey":{"table":"Resident","foreign_key":{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"AddForeignKey":{"table":"PackageUnit","foreign_key":{"constraintName":null,"columns":["buildingId"],"referencedTable":"Building","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"AddForeignKey":{"table":"PackageUnit","foreign_key":{"constraintName":null,"columns":["residentId"],"referencedTable":"Resident","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"DropTable":{"name":"activesession"}},{"DropTable":{"name":"building"}},{"DropTable":{"name":"packageunit"}},{"DropTable":{"name":"resident"}},{"DropTable":{"name":"securityadmin"}}],"rollback":[{"CreateTable":{"table":{"name":"activesession","columns":[{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isActive","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isAdmin","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"privateKey","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"ActiveSession.privateKey","columns":["privateKey"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"building","columns":[{"name":"address","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"packageunit","columns":[{"name":"buildingId","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"code","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"packageIsDelivered","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"residentId","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false}],"indices":[{"name":"buildingId","columns":["buildingId"],"tpe":"normal"},{"name":"residentId","columns":["residentId"],"tpe":"normal"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":"packageunit_ibfk_1","columns":["buildingId"],"referencedTable":"building","referencedColumns":["id"],"onDeleteAction":"setNull"},{"constraintName":"packageunit_ibfk_2","columns":["residentId"],"referencedTable":"resident","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"CreateTable":{"table":{"name":"resident","columns":[{"name":"address","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"buildingId","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"email","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"emailNotificationSent","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"isEmailNotification","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"isSmsNotification","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"password","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"phoneNumber","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"smsNotificationSent","tpe":{"dataType":"tinyint","fullDataType":"tinyint(1)","characterMaximumLength":null,"family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"unitNumber","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"Resident.email","columns":["email"],"tpe":"unique"},{"name":"buildingId","columns":["buildingId"],"tpe":"normal"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[{"constraintName":"resident_ibfk_1","columns":["buildingId"],"referencedTable":"building","referencedColumns":["id"],"onDeleteAction":"setNull"}]}}},{"CreateTable":{"table":{"name":"securityadmin","columns":[{"name":"email","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"dataType":"int","fullDataType":"int(11)","characterMaximumLength":null,"family":"int","arity":"required"},"default":null,"autoIncrement":true},{"name":"password","tpe":{"dataType":"varchar","fullDataType":"varchar(191)","characterMaximumLength":191,"family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[{"name":"SecurityAdmin.email","columns":["email"],"tpe":"unique"}],"primaryKey":{"columns":["id"],"sequence":null,"constraintName":null},"foreignKeys":[]}}},{"CreateIndex":{"table":"activesession","index":{"name":"ActiveSession.privateKey","columns":["privateKey"],"tpe":"unique"}}},{"CreateIndex":{"table":"packageunit","index":{"name":"buildingId","columns":["buildingId"],"tpe":"normal"}}},{"CreateIndex":{"table":"packageunit","index":{"name":"residentId","columns":["residentId"],"tpe":"normal"}}},{"CreateIndex":{"table":"resident","index":{"name":"Resident.email","columns":["email"],"tpe":"unique"}}},{"CreateIndex":{"table":"resident","index":{"name":"buildingId","columns":["buildingId"],"tpe":"normal"}}},{"CreateIndex":{"table":"securityadmin","index":{"name":"SecurityAdmin.email","columns":["email"],"tpe":"unique"}}},{"AddForeignKey":{"table":"packageunit","foreign_key":{"constraintName":"packageunit_ibfk_1","columns":["buildingId"],"referencedTable":"building","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"AddForeignKey":{"table":"packageunit","foreign_key":{"constraintName":"packageunit_ibfk_2","columns":["residentId"],"referencedTable":"resident","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"AddForeignKey":{"table":"resident","foreign_key":{"constraintName":"resident_ibfk_1","columns":["buildingId"],"referencedTable":"building","referencedColumns":["id"],"onDeleteAction":"setNull"}}},{"DropTable":{"name":"Resident"}},{"DropTable":{"name":"ActiveSession"}},{"DropTable":{"name":"PackageUnit"}},{"DropTable":{"name":"Building"}},{"DropTable":{"name":"SecurityAdmin"}}]}', '[]', '2020-07-20 15:09:15.627', '2020-07-20 15:09:17.727');
/*!40000 ALTER TABLE `_Migration` ENABLE KEYS */;

/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IF(@OLD_FOREIGN_KEY_CHECKS IS NULL, 1, @OLD_FOREIGN_KEY_CHECKS) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
